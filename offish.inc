<?php/*==================================================            GONE FISHING            v1.0 April 2001            Nigel Gilbert            n.gilbert@soc.surrey.ac.uk====================================================*//* carries out the actions of the regulator, the Office of Fishing, OFFISHIncluded by index.php*/    global $clockTime, $sea;/* at random intervals, makes a random choice of events and actions */        $offish = rand(0, 40);        switch($offish) {            case 0:		/* change the maintenance fee and inform everyone */                $old = $sea->maintenance;                $sea->maintenance = rand(100, 1000);                $upordown = ($sea->maintenance > $old ? "increased" : "decreased");                radioAll("OFFISH Notice:                        The fee for harbour maintenance has been $upordown to &euro; $sea->maintenance per trip.                          This amount will be deducted from your bank account automatically by direct debit.                        By authority");                $sea->save();                break;            case 1:		/* if fish stocks are getting low, warn the fishers */                if ($sea->stock < 50000) {                    radioAll("OFFISH Notice:                            Our research laboratories report that fish stocks are dangerously low.                            We urge you to conserve the remaining fish.                            By authority");                    }                break;            case 2:		/* send an irrelevant message to keep the fishers on their toes */                switch(rand(0,30)) {                    case 0:                radioAll("OFFISH Notice:                        We are pleased to inform you that the period of office of the Chief Regulator at OFFISH                         has been extended for a further two years by the Department of Maritime Affairs.");                        break;                    case 1:                radioAll("OFFISH Notice:                        OFFISH will be closed tomorrow because it is a public holiday.");                        break;                    case 2:                radioAll("OFFISH Notice:                        We apologise for the poor state of the lake yesterday which was due to circumstances                         beyond our control.");                        break;                   case 3:                radioAll("OFFISH Notice:                        OFFISH has opened a new office at the southern shore of the lake.");                        break;                   default:                        break;                    }                break;            case 3:		/* support the market price */            debug("market price in OFFISH", $sea->marketPrice);                if ($sea->marketPrice < 2) {                    $sea->marketPrice += .466;                    radioAll("OFFISH Notice:                            Due to the low current market price for fish, the Office for Fish has decided that                             it will intervene in the market and raise the pricen by buying in fish and selling                             it on for cat food.  The price is therefore 0.466 &euro; higher than it would                             otherwise be.                            By authority");                    }                break;            case 4:            case 5:            case 6:            case 7:            case 8:            case 9:            case 10: break;  /* do nothing */            default: break;              }